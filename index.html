<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>EJS - JavaScript Templates</title>
	<link rel="stylesheet" type="text/css" href="stylesheets/style.css">
	<meta name="verify-v1" content="5oY/AuvfbZgbeKHkXrH+n/EOdSgCUEyU30ZnjXqDJWE=" />
	<!--[if IE]>
	<style>
	#template_caption {
		left: 22px;
	}
	#result_caption {
		bottom: -15px;
	}
	#template_container {
		margin: 20px 0px;
	}
	#result_caption {
		position: relative;
	}
	ul {margin-left: 60px;}
	
	</style>
	<!--[else]>
	<![endif]-->
	<!--[if IE 6]>
		<style>#option_links {position:relative; top: 15px;}
			.width {width:960px;}
			.left_column {width: 470px;}
		</style>
	<![endif]-->

</head>
<body onload='render();template_blur();'>
	<div id='header'>
		<div class='width'>
		    <a class='jupiter' href='http://jupiterit.com'>A Jupiter Collaboration</a>
			<ul>
				<li><a href='/'>Home</a></li>
				<li><a href='http://embeddedjavascript.googlecode.com/files/ejs_1.0_developer.zip'>Download</a></li>
				<li><a href='http://code.google.com/p/embeddedjavascript/'>GoogleCode</a></li>
				<li><a href='http://code.google.com/p/embeddedjavascript/w/list'>Documentation</a></li>
				<li><a href='http://groups.google.com/group/embeddedjavascript'>Forum</a></li>
				<li><a href='contact.html'>Contact</a></li>
			</ul>
		</div>
	</div>
	<div id='title' class='grey_banner'>
		<div class='width'>
			<div id='title_section'>
				<span class='left_magic'>&lt;%=</span>
				<label>
				
					 An open source 
					<br/>
					<span class='right_magic'>%&gt;</span>
					JavaScript Template library&nbsp;&nbsp;
				</label>
			</div>
			
			
			<h1>EJS</h1>
			<h2>&lt;% Embedded JavaScript %&gt;</h2>
		</div>
	</div>
	<div class='width'>
		<div class='right_column'>
			<a id='download' href='http://embeddedjavascript.googlecode.com/files/ejs_1.0_developer.zip'>
				<div>Download EJS</div>
				<div class='label'>Developer 1.0 Production (9.8KB)</div>
			</a>
			<div class='caption'>
				Featured in <a href='http://javascriptmvc.com'>JavaScriptMVC - <span style="color: red">Develop with Direction!</span></a>
                
                
			</div>
		</div>
		
		<div class='left_column'>
			<h3>About.</h3>
			<p>EJS cleans the HTML out of your JavaScript with client side templates.
			After EJS gets its rubber gloves on dirty code, you'll feel organized and uncluttered.</p>
		</div>
		
	</div>
	<div id='try_it' class='grey_banner'>
		<div class='width'>
		Try it!
		</div>
	</div>
	<div class='width'>
		<div id='tutorial'>
			<h4 class='first'>
				The Data.
			</h4>
			<div id='data'>
				<table style='width:100%' cellspacing='0' cellpadding='0'>
					<tr>
						<td class='bracket'>{</td>
						<td class='attribute'>title:</td>
						<td class='string'>'Cleaning Supplies'</td>
						
					</tr>
					<tr>
						<td></td>
						<td class='attribute'>supplies:</td>
						<td>[<span class='string'>'mop'</span>, <span class='string'>'broom'</span>, <span class='string'>'duster'</span>]
						</td>

						<td class='bracket' style='text-align: right;'>}</td>
					</tr>
				</table>
			</div>
			<p>
				EJS combines data and a template to produce HTML.
				Here, our example data has a title and a list of supplies.
			</p>
			
			
			<h4>
				The Template.
			</h4>
			<div id='template_container'>
<textarea id='template' rows='10' spellcheck="false" 
	onfocus="template_focus();" 
	onblur="template_blur();"
	onkeyup='render()'><ul>
<% for(var i=0; i<supplies.length; i++) {%>
   <li><%= supplies[i] %></li>
<% } %>
</ul></textarea>
			<div id='template_caption'>
				Type here
			</div>
			</div>
			<p>Like ERB, JavaScript between &lt;% %&gt; is executed.
			JavaScript between &lt;%= %&gt; adds HTML to the result. </p>
			
			
			<p><img src='images/star.png' /> <span id='instructions'>Type HTML or JavaScript in the <span class='template'>template</span>
			<br/>Watch as your changes update the <span class='result'>result</span>.</span></p>
			
			<h5>Try typing these suggestions:</h5>
			
			<div id='options'>
				<div id='option_links'>
					<a href='#' id='title_tab' onclick='title_suggestion();return false;' class='selected'>Add the title</a>
					<a href='#' id='links_tab' onclick='links_suggestion();return false;'>Add links</a>
					<a href='#' id='image_tab' onclick='image_suggestion();return false;' style='margin-right: 0px'>Add image</a>
				</div>
				<div id='option'>
					Insert "<span class='template_text'>&lt;h1&gt; &lt;%= <span class='data'>title</span> %&gt; &lt;/h1&gt;</span>"
				</div>
				<div id='showme'><a id='showme_link' href='javascript:add_title();'>Show me &#187;</a></div>
			</div>
			<div id='hidden_options' style='display:none;'>
				<div id='title_suggestion'>
					Insert "<span class='template_text'>&lt;h1&gt; &lt;%= <span class='data'>title</span> %&gt; &lt;/h1&gt;</span>"
				</div>
				<div id='links_suggestion'>
					Insert "<span class='template_text'>&lt;%= link_to(<span class='data'>supplies</span>[i], 'supplies/'+<span class='data'>supplies</span>[i]) %&gt;</span>" between the &lt;li&gt; tags
				</div>
				<div id='image_suggestion'>
					Insert "<span class='template_text'>&lt;%= img_tag('maid.jpg') %&gt;</span>"
				</div>
			</div>
			
			<div class='clear'></div>
			<h4>
				The Result.
			</h4>
			<div id='result_container'>
				<div id='result'></div>
				<div id='result_caption'>
					The result is shown here
				</div>
			</div>
			<p>
				The <span class='result'>result</span> on the right is the output of the 
				<span class='template'>template</span> processed with the <span class='data'>data</span>.
			</p>
			<p>
				If you make a mistake, EJS provides the line number and a message for easier debugging.
			</p>
			<div class='clear'></div>
			
		</div>
	</div>
	
	<div id='get_it' class='grey_banner'>
		<div class='width'>
		Use it.
		</div>
	</div>
	<div class='width'>
		<div class='right_column'>
			<h3>Learn.</h3>
			<div id='examples'>
				<a href='getting_started.html' class='article'>
					Getting Started with EJS
					<label>A Tutorial</label>
				</a>
				<a href='application.html' class='application'>
					
					2008 NBA Schedule
					<label>A Demo Application</label>
				</a>
		
				<a href='screencast/index.html' class='screencast'>
					Clean AJAX with EJS
					<label>A Screencast</label>
				</a>
			</div>
			
			<h3>Maintained By.</h3>
			<a href='http://jupiterit.com'><img id='jupiterit_logo' src='images/Logo-Color-Big.png'/></a><br/>
			<div style='margin-left: 40px;'>
				<script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
			</div>

			
			
		</div>
		
		<h3>Highlights.</h3>
		<ul>
			<li>HTML string concatenation without the messiness.</li>
			<li>Easily load templates from separate files.</li>
			<li>Rails-like view helpers.</li>
			<li>Template <a href='examples/caching.html'>caching</a> and <a href='examples/partials.html'>partials</a>.</li>
			<li>Intelligent error handling with line numbers.</li>
			<li>FF 1.5+, IE 6+, Opera 9, Safari 3.</li>
			<li>MIT license.</li>
		</ul>
		
		<h3>Syntax.</h3>
		
<pre><span class='comment'>// load a template file, then render it with data</span>
html = <span class='key'>new</span> EJS({<span class='attribute'>url:</span> <span class='string'>'/template.ejs'</span>}).render(data)

<span class='comment'>// update element 'todo' with the result of a  
// template rendered with data from a JSON request</span>
<span class='key'>new</span> EJS({<span class='attribute'>url:</span><span class='string'>'/todo.ejs'</span>}).update(<span class='string'>'todo'</span>,<span class='string'>'/todo.json'</span>)
</pre>
		
	</div>
	<div class='clear'></div>
	<br/>
	<div id='footer'>
		<div class='width'>
			<a class='jupiter' href='http://jupiterit.com' style='font-size: 10pt;margin-top: 12px;'>&copy; Jupiter Consulting - JavaScript Development, Training, Support</a>
            <ul>
				<li><a href='http://embeddedjs.com/'>Home</a></li>
				<li><a href='http://embeddedjavascript.googlecode.com/files/ejs_1.0_developer.zip'>Download</a></li>
				<li><a href='http://code.google.com/p/embeddedjavascript/'>GoogleCode</a></li>
				<li><a href='http://code.google.com/p/embeddedjavascript/w/list'>Documentation</a></li>
				<li><a href='http://groups.google.com/group/embeddedjavascript'>Forum</a></li>
				<li><a href='contact.html'>Contact</a></li>
			</ul>
		</div>
	</div>
	<script src="javascripts/ejs_production.js" type="text/javascript"></script>
	<script src="javascripts/ejs_debugger.js" type="text/javascript"></script>
	<script type="text/javascript">
			var title_suggestion = function() {
				document.getElementById('links_tab').className = ''
				document.getElementById('title_tab').className = 'selected'
				document.getElementById('image_tab').className = ''
				document.getElementById('option').innerHTML = document.getElementById('title_suggestion').innerHTML
				document.getElementById('showme_link').href='javascript:add_title();'
			}
			var links_suggestion = function() {
				document.getElementById('links_tab').className = 'selected'
				document.getElementById('title_tab').className = ''
				document.getElementById('image_tab').className = ''
				document.getElementById('option').innerHTML = document.getElementById('links_suggestion').innerHTML
				document.getElementById('showme_link').href='javascript:add_links();'
			}
			var image_suggestion = function() {
				document.getElementById('links_tab').className = ''
				document.getElementById('title_tab').className = ''
				document.getElementById('image_tab').className = 'selected'
				document.getElementById('option').innerHTML = document.getElementById('image_suggestion').innerHTML
				document.getElementById('showme_link').href='javascript:add_image();'
			}
			var template_focus = function(){
				document.getElementById('template_caption').style.display = 'none'
			}
			var template_blur = function(){
				document.getElementById('template_caption').style.display = 'block'
			}
			var render = function() {
				var data = {title: 'Cleaning supplies', supplies: ['mop', 'broom', 'duster']}
				var template_text = document.getElementById('template').value
				try {
					var template = new EJS({text: template_text});
					var result = template.render(data);
				} catch(e) {
					template_error(e)
					return
				}
				clear_errors();
				document.getElementById('result').innerHTML = result;
			}
			var clear_errors = function(e) {
				document.getElementById('template_caption').style.display = 'none'
				document.getElementById('template_caption').innerHTML = "Type here";
				document.getElementById('template_caption').className = '';
				document.getElementById('result_caption').innerHTML = 'The result is shown here';
				document.getElementById('result_caption').className = '';
			}
			var template_error = function(e) {
				document.getElementById('template_caption').style.display = 'block'
				if(e.lineNumber)
					var message = "There is an error in your template at line "+e.lineNumber+": "+e.message;
				else
					var message = "There is an error in your template: "+e.message;
				document.getElementById('template_caption').innerHTML = message;
				document.getElementById('template_caption').className = 'error';
				document.getElementById('result_caption').innerHTML = 'There is an error in your template';
				document.getElementById('result_caption').className = 'error';
				template_blur();
			}
			var template_border_flash = function() {
				document.getElementById('template').style.borderColor = '#ffe491';
				setTimeout('document.getElementById("template").style.borderColor = ""',350)
			}
			//how does it make sense that we are adding strings instead of using our templates?
			var add_title = function() {
				document.getElementById('template').value = new EJS({url: 'templates/title.ejs'}).render({});
				render();
				template_blur();
				template_border_flash();
			}
			var add_links = function() {
				document.getElementById('template').value = new EJS({url: 'templates/links.ejs'}).render({});
				render();
				template_blur();
				template_border_flash();
			}
			var add_image = function() {
				document.getElementById('template').value = new EJS({url: 'templates/image.ejs'}).render({});
				render();
				template_blur();
				template_border_flash();
			}
		</script>
        <script type="text/javascript" src="https://jabbify.com/side.js"></script>
		<script type="text/javascript">
			var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
			document.write("\<script src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'>\<\/script>" );
		</script>
		<script type="text/javascript">
			var pageTracker = _gat._getTracker("UA-2302003-5");
			pageTracker._initData();
			pageTracker._trackPageview();
		</script>

	
</body>
	
</html>
